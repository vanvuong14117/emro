var __certprocessing=function(a){var e=null,m=function(c){var g=function(){var b=window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP.3.0");b.open("GET",a.ESVS.SRCPath+"unisignweb/rsrc/layout/certprocessing.html?version="+a.ver,!1);b.send(null);return b.responseText},h=function(){var b=window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP.3.0");b.open("GET",a.ESVS.SRCPath+"unisignweb/rsrc/lang/"+a.ESVS.Language+"/certprocessing_"+a.ESVS.Language+".js?version="+a.ver,!1);b.send(null);return b.responseText};return function(){var b=a.CustomEval(g),d=a.CustomEval(h,!0);e=d;a.ESVS.TargetObj.innerHTML=b();document.getElementById("us-cert-processing-img").setAttribute("src",a.ESVS.SRCPath+"unisignweb/rsrc/img/processing-img.gif",0);b=document.getElementById("us-cert-processing-text");"CERT_ISSUE"==c.type?(document.getElementById("us-div-cert-processing").style.height="80px",document.getElementById("us-div-cert-processing").style.lineHeight="40px",b.innerHTML=d.IDS_CERT_ISSUING+"<br>"+d.IDS_CERT_WAITING):"CERT_RENEWAL"==c.type?(document.getElementById("us-div-cert-processing").style.height="80px",document.getElementById("us-div-cert-processing").style.lineHeight="40px",b.innerHTML=d.IDS_CERT_RENEWING+"<br>"+d.IDS_CERT_WAITING):"CERT_REVOCATION"==c.type?b.appendChild(document.createTextNode(d.IDS_CERT_REVOKING)):"CERT_SOE"==c.type&&b.appendChild(document.createTextNode(d.IDS_CERT_SOEING));return document.getElementById("us-div-cert-processing")}()};return function(c){var g=a.uiLayerLevel,h=a.uiUtil().getOverlay(g);h.style.cursor="wait";var b=m({type:c.type,args:c.args,onConfirm:c.onConfirm,onCancel:c.onCancel});b.style.zIndex=g+1;a.ESVS.TargetObj.insertBefore(h,a.ESVS.TargetObj.firstChild);var d=window.onresize;return{show:function(){a.ActiveUI=this;draggable(b);h.style.display="block";a.uiUtil().offsetResize(b);window.onresize=function(){a.uiUtil().offsetResize(b);d&&d()};a.uiLayerLevel+=10;a.ESVS.TabIndex+=30},hide:function(){h.style.display="none";b.style.display="none"},dispose:function(f,g,l,m,n){window.onresize=function(){d&&d()};var k=null;m&&("CERT_ISSUE"==c.type?k=0!=f?e.IDS_MSGBOX_CERT_ISSUE_ERROR+"<br><br>"+l+"<br><br>Error Code [ "+g+" ]":e.IDS_MSGBOX_CERT_ISSUED:"CERT_RENEWAL"==c.type?k=0!=f?e.IDS_MSGBOX_CERT_RENEW_DENIED_ERROR+"<br><br>"+l+"<br><br>Error Code [ "+g+" ]":e.IDS_MSGBOX_CERT_RENEWED:"CERT_REVOCATION"==c.type?k=0==f?e.IDS_MSGBOX_CERT_REVOKED:"object"===typeof f?e.IDS_MSGBOX_CERT_REVOKE_DENIED_ERROR+"<br><br>"+f.msg+"<br><br>Error Code [ "+f.code+" ]":e.IDS_MSGBOX_CERT_REVOKE_DENIED_ERROR+"<br><br>"+l+"<br><br>Error Code [ "+g+" ]":"CERT_SOE"==c.type&&(k=0!=f?e.IDS_MSGBOX_CERT_SOE_DENIED_ERROR+"<br><br>"+l+"<br><br>Error Code [ "+g+" ]":e.IDS_MSGBOX_CERT_SOEED));f=b.parentNode;null!=f&&f.removeChild(b);null!=h.parentNode&&h.parentNode.removeChild(h);a.uiLayerLevel-=10;a.ESVS.TabIndex-=30;if(k){var p=a.loadUI("notice")({type:null,args:{msg:k},onConfirm:function(){p.dispose();n()},onCancel:function(){p.dispose();n()}});p.show()}else n()}}}};