var __gridlist=function(b){function x(a){this._viewlist=null;this._viewlistcnt=-1;this._selectedrow=null;this._tabidx=this._rowcnt=this._colcnt=-1;this._resizeFlag=!1;this._limittitleelementwidth=[];this._datarowwidth=this._datalistwidth=this._limitdatarowwidth=this._limitdataelementwidth=this._limittitlerowwidth=0;this._arrdataelementwidth=[];this._lastonmousemoveevent=document.onmousemove;this._lastonmouseupevent=document.onmouseup;this._listtype=a.listtype;this._tblid=a.tblid;this._tbltitleid=a.tbltitleid;this._titlelistid=a.titlelistid;this._titlerowid=a.titlerowid;this._titleelementid=a.titleelementid;this._titledividerid=a.titledividerid;this._titlelistcn=a.titlelistcn;this._titlerowcn=a.titlerowcn;this._titleelementcn=a.titleelementcn;this._titledividercn=a.titledividercn;this._tblbodyid=a.tblbodyid;this._datalistid=a.datalistid;this._datarowid=a.datarowid;this._dataelementid=a.dataelementid;this._datalistcn=a.datalistcn;this._datarowcn=a.datarowcn;this._dataelementcn=a.dataelementcn;this._dataselectcn=a.dataselectcn}x.prototype={setViewList:function(a){this._viewlist=a},getViewList:function(){return this._viewlist},setViewListCnt:function(a){this._viewlistcnt=a},getViewListCnt:function(){return this._viewlistcnt},setRowCnt:function(a){this._rowcnt=a},getRowCnt:function(){return this._rowcnt},setColCnt:function(a){this._colcnt=a},getColCnt:function(){return this._colcnt},setTabIdx:function(a){this._tabidx=a},getTabIdx:function(){return this._tabidx},setDataListWidth:function(a){this._datalistwidth=a},getDataListWidth:function(){return this._datalistwidth},setDataRowWidth:function(a){this._datarowwidth=a},getDataRowWidth:function(){return this._datarowwidth},setDataElementWidth:function(a,b){this._arrdataelementwidth[a]=b},getDataElementWidth:function(a){return this._arrdataelementwidth[a]},getLimitTitleRowWidth:function(){return this._limittitlerowwidth},getLimitTitleElementWidth:function(a){return this._limittitleelementwidth[a-1]},getLimitDataRowWidth:function(){return this._limitdatarowwidth},getLimitDataElementWidth:function(){return this._limitdataelementwidth},getResizeFlag:function(){return this._resizeFlag},getLastOnMouseMoveEvent:function(){return this._lastonmousemoveevent},getLastOnMouseUpEvent:function(){return this._lastonmouseupevent},getListTypeID:function(){return this._listtype},getTitleListID:function(){return this._titlelistid},getTitleRowID:function(){return this._titlerowid},getTitleElementID:function(){return this._titleelementid},getDividerID:function(){return this._titledividerid},getDataListID:function(){return this._datalistid},getDataRowID:function(){return this._datarowid},getDataElementID:function(){return this._dataelementid},getSelectedRow:function(){return this._selectedrow},focusOnRow:function(a){if(!a)return!1;var f=a.childNodes.length,e=-1;if(this._selectedrow){e=this._selectedrow.getAttribute("tabindex");for(var k=0;k<f;k++)"certslist"==this.getListTypeID()?(this._selectedrow.childNodes[k].className=this._dataelementcn+" grid-element"+(k+1),this._selectedrow.childNodes[k].firstChild.className=this._dataelementcn+" grid-element"+(k+1)):this._selectedrow.childNodes[k].className=this._dataelementcn;this._selectedrow.setAttribute("aria-selected","false",0);this._selectedrow.removeAttribute("tabindex")}for(k=0;k<f;k++)"certslist"==this.getListTypeID()?(a.childNodes[k].className=this._dataselectcn+" grid-element"+(k+1),a.childNodes[k].firstChild.className=this._dataselectcn+" grid-element"+(k+1)):a.childNodes[k].className=this._dataselectcn;a.setAttribute("aria-selected","true",0);-1<e&&(a.setAttribute("tabindex",e,0),setTimeout(function(){a.focus()},10));this._selectedrow=a;if(a.className&&"us-layout-grid-body-row"==a.className&&null!=document.getElementById("us-div-cert-manage-detail")&&"none"!=document.getElementById("us-div-cert-manage-detail").style.display){if("undefined"==this.getSelectedIndex())return;f=this.getSelectedIndex();b.certsList&&b.certsList.list&&null!=b.certsList.list[f-1]&&null!=b.certsList.list[f-1].cert&&(e=b.certsList.list[f-1].path,b.usWebToolkit.x509Certificate.parser(b.certsList.list[f-1].cert,"Base64"),document.getElementById("us-layout-cert-manage-detail-box-subject").innerHTML="<b>"+b.certUtil().getCN(b.usWebToolkit.x509Certificate.getSubjectName())+"</b>",document.getElementById("us-layout-cert-manage-detail-box-expire-data").innerHTML=b.certUtil().getLocalDate(b.usWebToolkit.x509Certificate.getNotBefore())+" ~ "+b.certUtil().getLocalDate(b.usWebToolkit.x509Certificate.getNotAfter()),document.getElementById("us-layout-cert-manage-detail-box-savepath-data").innerHTML=e,document.getElementById("us-layout-cert-manage-detail-box-savepath-data").setAttribute("title",e))}return!0},getRowForFocusing:function(a,b){if(!a||!b)return null;var e=a||window.event,f=e.which||e.keyCode;a=parseInt(b.parentNode.childNodes.length);if(13==f)return b=b.id.split(this._datarowid),b=parseInt(b[1])-1,a=this._datarowid+(b+1),a=document.getElementById(a);if(38===f){if(e.stopPropagation(),e.cancelBubble=!0,e.returnValue=!1,b=b.id.split(this._datarowid),b=parseInt(b[1])-1,!(0>=b))return a=this._datarowid+b,a=document.getElementById(a)}else if(40===f&&(e.stopPropagation(),e.cancelBubble=!0,e.returnValue=!1,b=b.id.split(this._datarowid),b=parseInt(b[1])-1,!(b>=a-1||b>=this._viewlistcnt-1)))return a=this._datarowid+(b+2),a=document.getElementById(a);return null},getSelectedIndex:function(){if(!this._selectedrow)return-1;var a=this._selectedrow.childNodes.length;return a=this._selectedrow.childNodes[a-1].firstChild.nodeValue},drawListTitle:function(a,f,e){if(!a||0>=f)return!1;this._colcnt=f;this._resizeFlag=e;e=document.createElement("thead");e.setAttribute("id",this._titlelistid,0);e.className=this._titlelistcn;document.getElementById(this._tblid).appendChild(e);f=document.createElement("tr");f.setAttribute("id",this._titlerowid,0);f.className=this._titlerowcn;e.appendChild(f);e=b.uiUtil().getNumSize(b.uiUtil().getStyle(e,"width","width"));for(var k=e/this._colcnt,r=b.uiUtil().getNumSize(b.uiUtil().getStyle(f,"height","height")),l=0,n=0;n<this._colcnt;n++){var c=document.createElement("th");f.appendChild(c);var g=document.createElement("DIV");g.setAttribute("id",this._titleelementid+(n+1),0);c.appendChild(g);"certslist"==this.getListTypeID()?(g.className="grid-element"+(n+1),l=b.uiUtil().getNumSize(b.uiUtil().getStyle(g,"width","width")),g.className=this._titleelementcn+" grid-element"+(n+1)):g.className=this._titleelementcn;g.appendChild(document.createTextNode(a[n].title));c=r-0;var d=k-0,h=0;0<l&&(h=l-0);"detailslist"==this._listtype&&(d=0===n?d-d/2+10:d+d/2-10);g.style.width=0<h?h-0+"px":d+"px";g.style.height=c+"px"}this._resizeFlag&&(this._limittitlerowwidth=e);return!0},drawListBody:function(a,f){this._viewlist=a;this._viewlistcnt=f;a=document.createElement("tbody");a.setAttribute("id",this._datalistid,0);a.className=this._datalistcn;document.getElementById(this._tblid).appendChild(a);this._rowcnt=this._viewlistcnt;f=b.uiUtil().getNumSize(b.uiUtil().getStyle(a,"width","width"));for(var e=f/this._colcnt,k=0,r=0;r<this._rowcnt;r++){var l=document.createElement("tr");l.setAttribute("id",this._datarowid+(r+1),0);l.className=this._datarowcn;l.setAttribute("aria-selected","false",0);a.appendChild(l);if("chrome"==b.browserName||"safari"==b.browserName){var n=b.uiUtil().getNumSize(b.uiUtil().getStyle(l,"width","width"));f<n&&(f=n,e=f/this._colcnt)}n=b.uiUtil().getNumSize(b.uiUtil().getStyle(l,"height","height"));for(var c=0;c<this._colcnt;c++){var g=document.createElement("td");l.appendChild(g);var d=document.createElement("DIV");d.setAttribute("id",this._dataelementid+(r+1)+"-"+(c+1),0);g.appendChild(d);"certslist"==this.getListTypeID()?(d.className="grid-element"+(c+1),k=b.uiUtil().getNumSize(b.uiUtil().getStyle(d,"width","width")),d.className=this._dataelementcn+" grid-element"+(c+1)):d.className=this._dataelementcn;if("certlist"!=this._listtype){g=b.uiUtil().getNumSize(b.uiUtil().getStyle(d,"paddingLeft","padding-left"));var h=b.uiUtil().getNumSize(b.uiUtil().getStyle(d,"paddingRight","padding-right")),w=b.uiUtil().getNumSize(b.uiUtil().getStyle(d,"paddingTop","padding-top")),p=b.uiUtil().getNumSize(b.uiUtil().getStyle(d,"paddingBottom","padding-bottom"))}else p=w=h=g=0;w=n-(w+p);p=e-(g+h);var t=0;0<k&&(t=k-(g+h));"detailslist"==this._listtype&&(p=0===c?p-p/2+10:p+p/2-10);this._resizeFlag?(this._arrdataelementwidth[c]?this._limitdataelementwidth=p:this._arrdataelementwidth[c]=0<t?t:p,d.style.width=this._arrdataelementwidth[c]+"px"):d.style.width=0<t?t+"px":p+"px";d.style.height=w+"px"}this._resizeFlag&&(0<this._datarowwidth?l.style.width=this._datarowwidth+"px":this._limitdatarowwidth=f);0===r&&l.setAttribute("tabindex",this._tabidx,0)}this._resizeFlag&&0<this._datalistwidth&&(a.style.width=this._datalistwidth+"px");b.uiUtil().loadingBox(!1,"us-div-list-load");return!0},listClear:function(){var a=document.getElementById(this._tblid),b=a.tBodies[0];this._viewlist=this._selectedrow=null;this._viewlistcnt=-1;if(a&&b)a.removeChild(b);else return!1;return!0}};return function(a){function f(b){0<=b&&c.setTabIdx(b);a&&a.textboxid&&document.getElementById(a.textboxid)&&(document.getElementById(a.textboxid).setAttribute("tabindex",b+1),document.getElementById(a.textboxid).setAttribute("title","value"))}function e(){var b=a.textboxid,h=c.getSelectedRow();if(!h||!b)return!1;b=document.getElementById(b);if(!b)return!1;b.value=h.childNodes[1].firstChild.innerText;return!0}function k(c,h){var d=document.createElement("IMG");if(0===h)d.setAttribute("src",b.ESVS.SRCPath+"unisignweb/rsrc/img/cert_valid_small.png",0),h=a.textObj.IDS_CERT_GRID_VALID;else if(1===h)d.setAttribute("src",b.ESVS.SRCPath+"unisignweb/rsrc/img/cert_valid_1_month_small.png",0),h=a.textObj.IDS_CERT_GRID_MONTH_EXPIER;else if(2===h)d.setAttribute("src",b.ESVS.SRCPath+"unisignweb/rsrc/img/cert_invalid_small.png",0),h=a.textObj.IDS_CERT_GRID_INVALID;else return;d.setAttribute("align","middle",0);d.setAttribute("alt",h,0);c.insertBefore(d,c.firstChild)}function r(c){var d=document.createElement("IMG");d.setAttribute("src",b.ESVS.SRCPath+"unisignweb/rsrc/img/cert_list_check.png",0);d.setAttribute("align","middle",0);d.setAttribute("alt",a.textObj.IDS_CERT_SELECTED,0);c.appendChild(d)}function l(){for(var a=c.getViewList(),h=c.getSelectedRow(),f=c.getColCnt(),p=c.getViewListCnt(),t=c.getDataRowID(),l=c.getDataElementID(),u=0;u<p;u++){var q=document.getElementById(t+(u+1)),m;for(m=0;m<f;m++){var v=document.getElementById(l+(u+1)+"-"+(m+1));v.appendChild(document.createTextNode(a[u][m]));"detailslist"!=g&&(0===m&&k(v,a[u][6]),4===m&&"certslist"==g&&r(v))}"detailslist"==g?(q.onclick=function(){c.focusOnRow(this);e()},q.onkeydown=function(a){a=c.getRowForFocusing(a?a:event,this);c.focusOnRow(a);e()}):(q.onclick=function(){c.focusOnRow(this)},q.onkeydown=function(a){a=c.getRowForFocusing(a?a:event,this);c.focusOnRow(a)},"certslist"==g&&(q.ondblclick=function(){if(!(0<=b.ESVS.PKI.indexOf("MilPKI")||b.SELECTINFO.curdevice==b.CONST.__PF_M_CLOUD.device)){c.focusOnRow(this);var a=this,d=c.getSelectedIndex(),f=b.loadUI("certview")({type:null,args:{type:"Base64",idx:d,cert:b.certsList.list[d-1].cert},onConfirm:function(){f.dispose();a.focus()},onCancel:function(){f.dispose();a.focus()}});f.show();b.uiUtil().loadingBox(!1,"us-div-list-load")}}));q.style.cursor="pointer";v=document.createElement("td");v.setAttribute("id",l+(u+1)+"-"+(m+1),0);v.style.display="none";v.appendChild(document.createTextNode(a[u][m]));q.appendChild(v);0!==u||h||("detailslist"==g?(c.focusOnRow(q),e()):c.focusOnRow(q))}}function n(){c.getColCnt();c.getDividerID();var a=!1,f=0,e=0,k=0;document.onmousemove=function(d){if(a){f=(d?d:event).clientX;var h=f-0;var g=0;d=null.split("element")[null.split("element").length-1];var q=c.getLimitTitleRowWidth();var m=c.getLimitTitleElementWidth(d);d=c.getLimitDataRowWidth();var l;c.getLimitDataElementWidth();0<m&&(m=0);var p=document.getElementById("null1-0");var n=document.getElementById(null).childNodes;for(var t=l=0;t<n.length;t++){var w=b.uiUtil().getNumSize(n[t].style.width);0<w&&(l+=w)}e=k=l;n=b.uiUtil().getNumSize(b.uiUtil().getStyle(p,"paddingLeft","padding-left"));p=b.uiUtil().getNumSize(b.uiUtil().getStyle(p,"paddingRight","padding-right"));l=m-n-p+1;p=0+h;m>p&&(g=m-p,p=m);m=0+h+g;q>m&&(m=q);n=e;q>n&&(n=q);q=0+h;l>q&&(g=l-q,q=l);h=0+h+g;d>h&&(h=d);g=k;d>g&&(g=d);document.getElementById(null).style.width=m+"px";document.getElementById(null).style.width=n+"px";document.getElementById(null).style.width=p+"px";d=c.getRowCnt();for(m=0;m<d;m++)document.getElementById(null+(m+1)).style.width=h+"px",document.getElementById(null+(m+1)+"-0").style.width=q+"px";document.getElementById(null).style.width=g+"px";c.setDataElementWidth(-1,q);c.setDataRowWidth(h);c.setDataListWidth(g)}};document.onmouseup=function(b){a=!1}}var c=new x({listtype:a.type,tblid:a.tblid,tbltitleid:a.tbltitleid,titlelistid:a.titlelistid,titlerowid:a.titlerowid,titleelementid:a.titleelementid,titledividerid:a.titledividerid,titlelistcn:a.titlelistcn,titlerowcn:a.titlerowcn,titleelementcn:a.titleelementcn,titledividercn:a.titledividercn,tblbodyid:a.tblbodyid,datalistid:a.datalistid,datarowid:a.datarowid,dataelementid:a.dataelementid,datalistcn:a.datalistcn,datarowcn:a.datarowcn,dataelementcn:a.dataelementcn,dataselectcn:a.dataselectcn}),g=c.getListTypeID();return{drawList:function(a,b,e,g,k,r){if(!a||0>=b||0>k)return!1;f(k);c.drawListTitle(a,b,r);if(0>=g)c.drawListBody(null,-1);else if(0<g&&e)c.drawListBody(e,g),l();else return!1;r&&n();return!0},drawTitle:function(a,b,e){if(!a||0>=b||0>e)return!1;f(e);c.drawListTitle(a,b);return!0},redrawList:function(a,b){c.listClear();if(0>=b)c.drawListBody(null,-1);else if(0<b&&a)c.drawListBody(a,b),l();else return!1;return!0},clearList:function(){c.listClear();return!0},restoreOnMouseEvent:function(){c.getResizeFlag()&&(document.onmousemove=c.getLastOnMouseMoveEvent(),document.onmouseup=c.getLastOnMouseUpEvent());return!0},selectedIndex:function(){return c.getSelectedIndex()}}}};